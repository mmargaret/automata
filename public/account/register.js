function init(){var t=location.hash.substring(1);msgs[t]&&GNN.UI.$("msg").appendChild(GNN.UI.$text(msgs[t]))}function init(){var t=location.hash.substring(1);msgs[t]&&GNN.UI.$("msg").appendChild(GNN.UI.$text(msgs[t]))}if(Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n=this.length;for("undefined"==typeof e&&(e=0),e=Number(e),e=0>e?Math.ceil(e):Math.floor(e),0>e&&(e+=n);n>e;e++)if(e in this&&this[e]===t)return e;return-1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){var n=this.length;if("function"!=typeof t)throw new TypeError("filter: not a function");for(var r=new Array,o=0;n>o;o++)if(o in this){var i=this[o];t.call(e,i,o,this)&&r.push(i)}return r}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n=this.length;if("function"!=typeof t)throw new TypeError("forEach: not a function");for(var r=0;n>r;r++)r in this&&t.call(e,this[r],r,this)}),Array.prototype.every||(Array.prototype.every=function(t,e){var n=this.length;if("function"!=typeof t)throw new TypeError("every: not a function");for(var r=0;n>r;r++)if(r in this&&!t.call(e,this[r],r,this))return!1;return!0}),Array.prototype.map||(Array.prototype.map=function(t,e){var n=this.length;if("function"!=typeof t)throw new TypeError("map: not a function");for(var r=new Array(n),o=0;n>o;o++)o in this&&(r[o]=t.call(e,this[o],o,this));return r}),Array.prototype.some||(Array.prototype.some=function(t,e){var n=this.length;if("function"!=typeof t)throw new TypeError("some: not a function");for(var r=0;n>r;r++)if(r in this&&t.call(e,this[r],r,this))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t,e){var n=this.length;if("function"!=typeof t)throw new TypeError("reduce: not a function ");var r,o=0;if("undefined"!=typeof e)r=e;else for(;;){if(o in this){r=this[o++];break}if(++o>=n)throw new TypeError("reduce: empty array")}for(;n>o;o++)o in this&&(r=t.call(null,r,this[o],o,this));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t,e){var n=this.length;if("function"!=typeof t)throw new TypeError("reduceRight: not a function");var r,o=n-1;if("undefined"!=typeof e)r=e;else for(;;){if(o in this){r=this[o--];break}if(--o<0)throw new TypeError("reduceRight: empty array")}for(;o>=0;o--)o in this&&(r=t.call(null,r,this[o],o,this));return r}),"undefined"==typeof GNN)var GNN={};!function(){var t=function(e,n){n=n||{};for(var r in n)null===e[r]||"object"!=typeof n[r]||"object"!=typeof e[r]?e[r]=n[r]:t(e[r],n[r]);return e};GNN.override=t;var e=function(t,e){var n=t||{};for(var r in e)"undefined"==typeof n[r]&&(n[r]=e[r]);return n};GNN.inherit=e;var n=function(t,e){for(var n in t)e(n,t[n])},r=function(){var t={},e=[];return e.push.apply(e,arguments),e.forEach(function(e){n(e,function(e,n){"undefined"==typeof t[e]&&(t[e]=n)})}),t};GNN.Hash=GNN.Hash||{},GNN.Hash.forEach=n,GNN.Hash.merge=r}(),["GNN",function(t){var e=this.pop();"undefined"==typeof t[e]&&(t[e]={});var n,r=t[e];n=r.URI=function o(t){if(!(this instanceof o))return new o(t);var e;new RegExp("^([^:]+)://").test(t)&&(e=RegExp.$1);var n=t.replace(new RegExp("^([^:]+)://"),"").split("/"),r=n.shift(),i={},a=n.pop(),s="?";a&&/[=?]/.test(a)?(/^(.*?)\?(.*)$/.test(a)&&(n.push(RegExp.$1),a=RegExp.$2),a.split(/&/).forEach(function(t){/^([^=]+)=(.*)$/.test(t)?i[RegExp.$1]=RegExp.$2:(i._flags=i._flags||[],i._flags.push(t))})):n.push(a),this.scheme=e,this.domain=r,this.local=n,this.params=i,this.q=s},n.prototype={data:function(){var t=[];for(var e in this.params)if("undefined"!=typeof this.params[e])if("_flags"==e)t=t.concat(this.params[e]);else{var r=this.params[e],o=n.encode(r+"");t.push(e+"="+(/%/.test(r)?r:o))}return t.join("&")},toLocalPath:function(){var t=this.data(),e=this.local.join("/");return"/"+(t.length?e+this.q+t:e)},toString:function(){var t=this.toLocalPath(),e=this.domain+t;return this.scheme&&(e=this.scheme+"://"+e),e}},n.prototype.constructor=n,n.encode=function(t,e){e=e||"[^\\w\\d]";for(var n="",r=t.length,o=0;r>o;o++){var i=t.charAt(o),a=t.charCodeAt(o);n+=!new RegExp("^"+e+"$").test(i)||i>255?i:"%"+a.toString(16)}return n},n.location=function(){return new n(location.href)},n.params=function(t){t=t||{};var e=n.location();for(var r in t)e.params[r]=t[r];return e}}].reverse()[0](this),["GNN",function(t){var e=this.pop();"undefined"==typeof t[e]&&(t[e]={});var n,r=t[e],o=r.URI;n=r.XHR=function(t,e,r){return n.get(t,e,r)},n.callback={},n.maxConnections=8,n.retryDelay=100,n.defaultTimeout=2e4;var i=[],a={q:[],push:function(t){this.q.push(t),1==this.q.length&&this.process()},pop:function(){if(i.length<n.maxConnections){var t=this.q.shift();return t&&t(),!0}return!1},process:function(){for(;this.q.length>0&&this.pop(););if(this.q.length>0){var t=this;setTimeout(function(){t.process()},n.retryDelay)}}},s=[XMLHttpRequest,JSON].every(function(t){return"undefined"!=typeof t}),u=function(t,e,r,s,u,f){r instanceof o||(r=new o(r+"")),s=s||function(){},u=u||function(){};var c={uri:r+""};c.callback=function(){var t=s.apply(null,arguments);return c.stop(),t},c.error=function(){var t=u.apply(null,arguments);return c.stop(),t},c.stop=function(){c.done=!0,i=i.filter(function(t){return!t.done})},"undefined"==typeof r.params.timestamp&&(r.params.timestamp=encodeURI(new Date)),"undefined"==typeof f&&(f=n.defaultTimeout);var l=function(){if(i.push(c),f&&setTimeout(function(){c.done||c.error("timeout",c,f)},f),!e(c,r)){var n=new XMLHttpRequest;c.req=n,c.stop_=c.stop,c.stop=function(){n.abort(),c.stop_(),c.callback=function(){},c.error=function(){}};var o=null;"POST"==t&&(o=r.data(),r.params={}),n.open(t,r+""),n.onreadystatechange=function(){4==n.readyState&&(200<=n.status&&n.status<300?c.callback(n):c.error("request",n))},n.send(o)}};return a.push(l),c},f=function(t,e,r,o){var i;"undefined"!=typeof e.timeout&&(i=e.timeout,delete e.timeout);var a=function(){};if("object"==typeof e.async){var s=e.async,u={};delete e.async;for(var f in s)s[f].done=!1;a=function(t,e){for(var n in s){var r=s[n].keys||[n];if(!u[n]&&r.every(function(e){return t.indexOf(e)<0})){u[n]=!0;var o=s[n].callback||s[n];"function"==typeof o&&o(e)}}}}r=r||function(){};var c=[],l={},p=!1,h={};for(var d in e)c.push(d);var v=c.concat([]);o=o||function(){};var y=function(t){return function(e){if("timeout"==e)v.length&&(c=[],p=!0,v.forEach(function(t){h[t]&&h[t].stop()}),o(e,h,v,arguments[2]));else{var n=Array.prototype.slice.apply(arguments);n.push([t]),o.apply(null,n)}}},g=function(){if(c.length>0){var o=c.shift();h[o]=n[t](e[o],function(t){l[o]=t,v=v.filter(function(t){return t!=o}),a(v,l),v.length||p||r(l)},y(o),i),setTimeout(g,0)}};return g(),{stop:function(){for(;v.length>0;)h[v.shift()].stop()}}};n.get=function(t,e,n,r){return u("GET",function(){return!1},t,e,n,r)},n.post=function(t,e,n,r){return u("POST",function(){return!1},t,e,n,r)},n.retrieve=function(t,e,n){return f("get",t,e,n)};var c=function(t,r){for(var o=[["%","_"],["-","_"],["\\*","_"],["\\.","_"]].reduce(function(t,e){return t.replace(new RegExp(e[0],"g"),e[1])},escape(encodeURIComponent(t.uri)));n.callback[o];)o+="_";t.stop_=t.stop,t.stop=function(){t.stop_(),delete n.callback[o]},n.callback[o]=t.callback,r.params.callback=[e,"XHR.callback",o].join("."),t.script=document.createElement("script"),t.script.src=r+"",t.script.type="text/javascript";var i=document.getElementsByTagName("head")[0];return i.appendChild(t.script),!0};n.json=function(t,e,n,r){var o=c;if(s){o=function(){return!1};var i=e||function(){};n=n||function(){},e=function(t){var e;try{e=JSON.parse(t.responseText)}catch(r){n("request",t)}i(e)}}return u("GET",o,t,e,n,r)},n.json.retrieve=function(t,e,n){return f("json",t,e,n)},n.jsonp=function(t,e,n,r){return u("GET",c,t,e,n,r)},n.jsonp.retrieve=function(t,e,n){return f("jsonp",t,e,n)}}].reverse()[0](this),"undefined"==typeof GNN.UI&&(GNN.UI={}),function(t){var e=GNN.Hash.forEach;t.doc=function(){return t.document||document},t.isNode=function(t){return t&&"number"==typeof t.nodeType},t.text=function(t){return t.textContent||t.innerText||""},t._$=function(e){return t.doc().getElementById(e)},t.$=function(e){return t.isNode(e)?e:t._$(e)},t.$new=function(n,r){var o=t.doc().createElement(n);if(r=r||{},r.id&&(o.id=r.id),r.klass&&(o.className=r.klass),e(r.style||{},function(t,e){o.style[t]=e}),r.attr)for(var i in r.attr)o.setAttribute(i,r.attr[i]);if("undefined"!=typeof r.child){r.child instanceof Array||(r.child=[r.child]);for(var a=0;a<r.child.length;a++){var s=t.$node(r.child[a]);o.appendChild(s)}}return o},t.$text=function(e){return("undefined"==typeof e||null==e)&&(e=""),t.doc().createTextNode(e+"")},t.$node=function(e){return t.isNode(e)?e:t.$text(e)},t.$select=function(e){e.klass||(e.klass=[]),e.klass instanceof Array||(e.klass=[e.klass]);for(var n=e.root||t.doc(),r=n.getElementsByTagName(e.tag),o=[],i=0;i<r.length;i++){var a=t.classNames(r[i]);e.klass.every(function(t){return a.indexOf(t)>=0})&&o.push(r[i])}return o},t.classNames=function(t){return(t.className||"").split(/\s+/)},t.hasClass=function(e,n){return t.classNames(e).indexOf(n)>=0},t.appendClass=function(e,n){e.className=t.classNames(e).filter(function(t){return t!=n}).concat([n]).join(" ")},t.removeClass=function(e,n){e.className=t.classNames(e).filter(function(t){return t!=n}).join(" ")},t.removeAllChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.replaceLastChild=function(t,e){var n=t.lastChild;n&&t.removeChild(n),t.appendChild(e)},t.insertText=function(t,e){var n=t.selectionStart,r=t.selectionEnd;if("number"==typeof n&&"number"==typeof r){var o=t.value.substring(0,n),i=t.value.substring(r);t.value=o+e+i,t.selectionStart=t.selectionEnd=n+e.length}else t.value+=e},t.getStyle=function(e,n){var r=(e.style||{})[n];if(!r){var o=t.doc().defaultView||{};if(o.getComputedStyle)try{var i=o.getComputedStyle(e,null);n=n.replace(/([A-Z])/g,"-$1").toLowerCase(),r=i?i.getPropertyValue(n):null}catch(a){return null}else e.currentStyle&&(r=e.currentStyle[n])}return r},t.getPosition=function(t){var e={x:0,y:0};do e.x+=t.offsetLeft,e.y+=t.offsetTop;while(t=t.offsetParent);return e},t.getMousePosition=function(e){if(-1!=navigator.userAgent.indexOf("Chrome/")&&navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Version/")<0)return{x:e.clientX,y:e.clientY};var n={},r=t.doc().documentElement;return window.innerWidth?(n.x=window.pageXOffset,n.y=window.pageYOffset):r&&r.clientWidth?(n.x=r.scrollLeft,n.y=r.scrollTop):t.doc().body.clientWidth&&(n.x=t.doc().body.scrollLeft,n.y=t.doc().body.scrollTop),{x:e.clientX+n.x,y:e.clientY+n.y}},t.Event=function(e){var n={event:e};return n.mousePos=function(){return t.getMousePosition(n.event)},n.stopPropagation=function(){n.event.stopPropagation?n.event.stopPropagation():n.event.cancelBubble=!0},n.preventDefault=function(){n.event.preventDefault?n.event.preventDefault():n.event.returnValue=!1},n.stop=function(){n.stopPropagation(),n.preventDefault()},n.target=function(){return n.event.target||n.event.srcElement},n.disable=function(){n.target().disabled=!0},n.enable=function(){n.target().disabled=!1},n},t.Observer=function(e,n,r,o){var i={node:e,event:n},a=r;"string"==typeof o?a=r[o]:"undefined"!=typeof o&&(a=o);var s=function(e){return a.call(r,new t.Event(e))};return i.start=function(){i.node.addEventListener?(0===n.indexOf("on")&&(i.event=n.substr(2)),i.node.addEventListener(i.event,s,!1)):i.node.attachEvent&&i.node.attachEvent(i.event,s)},i.stop=function(){i.node.removeEventListener?i.node.removeEventListener(i.event,s,!1):i.node.detachEvent&&i.node.detachEvent(i.event,s)},i.start(),i}}(GNN.UI);var msgs={done:"パスワードをメールで送信しました．",notfound:"入力されたメールアドレスは登録されていませんでした．"},msgs={done:"パスワードをメールで送信しました．",alreadyregistered:"入力された学籍番号またはメールアドレスは既に登録されています．",invalidarguments:"入力された値のどれかが空か，学籍番号が10桁の半角数字ではありません．",failed:"エラーが発生しました．管理者に連絡してください．"};